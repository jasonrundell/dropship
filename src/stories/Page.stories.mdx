import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { within } from '@storybook/testing-library'
import { expect } from '@storybook/jest'

import { Page } from './Page'

<Meta title="Layout/Page" component={Page} />

# Page

## Displays a sngle column page container that has a fixed width and is centered

Use for pages that have a single column of content. The page will be centered
and have a fixed width.

<ArgsTable story="Standard" />

export const Template = (args) => <Page {...args} />

<Canvas>
  <Story name="Standard">{Template.bind({})}</Story>
</Canvas>

export const LoggedOut = Template.bind({})

export const LoggedIn = Template.bind({})
LoggedIn.play = async ({ canvasElement }) => {
  const canvas = within(canvasElement)
  const loginButton = await canvas.getByRole('button', { name: /Log in/i })
  await userEvent.click(loginButton)
}
