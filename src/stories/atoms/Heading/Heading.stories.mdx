import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { within } from '@storybook/testing-library'
import { expect } from '@storybook/jest'

import { Heading } from '../Heading'

<Meta title="Atoms/Heading" component={Heading} />

# Heading

## Displays heading text

Use a heading when you want to display a heading text.

<ArgsTable story="H1" />

export const Template = (args) => <Heading {...args} />

## H1

<Canvas>
  <Story
    name="H1"
    args={{
      level: 1,
      label: 'H1 Heading'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## H2

<Canvas>
  <Story
    name="H2"
    args={{
      level: 2,
      label: 'H2 Heading'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## H3

<Canvas>
  <Story
    name="H3"
    args={{
      level: 3,
      label: 'H3 Heading'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## H4

<Canvas>
  <Story
    name="H4"
    args={{
      level: 4,
      label: 'H4 Heading'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## H5

<Canvas>
  <Story
    name="H5"
    args={{
      level: 5,
      label: 'H5 Heading'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## H6

<Canvas>
  <Story
    name="H6"
    args={{
      level: 6,
      label: 'H6 Heading'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Controls

Experiment with this story with the Controls addon in the Canvas tab.

<Canvas>
  <Story
    name="controls"
    args={{
      level: 1,
      label: 'Heading'
    }}
    // https://storybook.js.org/docs/react/api/mdx#play-function
    play={async ({ canvasElement }) => {
      const canvas = within(canvasElement)
      const theElement = canvas.getByRole('heading', { level: 1 })
      await expect(theElement).not.toBeNull()
      await expect(theElement.textContent).toEqual('Heading')
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
