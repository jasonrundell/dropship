import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { within } from '@storybook/testing-library'
import { expect } from '@storybook/jest'

import { Spacer } from '../Spacer'
import { Paragraph } from '../Paragraph'
import { sizes, sizeKeys } from '../../../shared/sizes'
import './spacer-story.css'
const argTypes = {
  smallScreen: {
    control: {
      type: 'select',
      options: sizeKeys
    }
  },
  mediumScreen: {
    control: {
      type: 'select',
      options: sizeKeys
    }
  },
  largeScreen: {
    control: {
      type: 'select',
      options: sizeKeys
    }
  }
}

<Meta title="Atoms/Spacer" component={Spacer} argTypes={argTypes} />

# Spacer

## A container used for spacing around elements

The Spacer component is used to add spacing (padding only) around elements.

**Spacer appears pink in Storybook but will be transparent when used in a
project.**

<ArgsTable story="Default" />

export const Template = (args) => (
  <Spacer className="story--atoms-spacer" {...args} />
)

export const Controls = Template.bind({})
Controls.args = {
  'data-testid': 'spacer',
  smallScreen: 'small',
  mediumScreen: 'small',
  largeScreen: 'small'
}
console.log(Array.isArray(sizeKeys), sizeKeys)

## Example

<Canvas>
  <Story name="Example">
    <Paragraph>This paragraph has a default Spacer below it</Paragraph>
    <Spacer className="story--atoms-spacer" />
    <Paragraph>
      In all screens, this paragraph has a Spacer using "largest" below it
    </Paragraph>
    <Spacer
      smallScreen="largest"
      mediumScreen="largest"
      largeScreen="largest"
      className="story--atoms-spacer"
    />
    <Paragraph>
      In small screens, this paragraph has a Spacer using "small" below it. In
      medium screens, this paragraph has a Spacer using "smallest" below it. In
      large screens, this paragraph has a Spacer using "larger" below it.
    </Paragraph>
    <Spacer
      smallScreen="small"
      mediumScreen="smallest"
      largeScreen="larger"
      className="story--atoms-spacer"
    />
  </Story>
</Canvas>

## Default

<Canvas>
  <Story name="Default">{Template.bind({})}</Story>
</Canvas>

## Small Viewport: Tiny

<Canvas>
  <Story
    name="Small Viewport: Tiny"
    args={{
      smallScreen: 'tiny'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Small Viewport: Smallest

<Canvas>
  <Story
    name="Small Viewport: Smallest"
    args={{
      smallScreen: 'smallest'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Small Viewport: Small

<Canvas>
  <Story
    name="Small Viewport: Small"
    args={{
      smallScreen: 'small'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Small Viewport: Normal

<Canvas>
  <Story
    name="Small Viewport: Normal"
    args={{
      smallScreen: 'normal'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Small Viewport: Large

<Canvas>
  <Story
    name="Small Viewport: Large"
    args={{
      smallScreen: 'large'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Small Viewport: Larger

<Canvas>
  <Story
    name="Small Viewport: Larger"
    args={{
      smallScreen: 'larger'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Small Viewport: Largest

<Canvas>
  <Story
    name="Small Viewport: Largest"
    args={{
      smallScreen: 'largest'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Tiny

<Canvas>
  <Story
    name="Medium Viewport: Tiny"
    args={{
      mediumScreen: 'tiny'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Smallest

<Canvas>
  <Story
    name="Medium Viewport: Smallest"
    args={{
      mediumScreen: 'smallest'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Small

<Canvas>
  <Story
    name="Medium Viewport: Small"
    args={{
      mediumScreen: 'small'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Normal

<Canvas>
  <Story
    name="Medium Viewport: Normal"
    args={{
      mediumScreen: 'normal'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Large

<Canvas>
  <Story
    name="Medium Viewport: Large"
    args={{
      mediumScreen: 'large'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Larger

<Canvas>
  <Story
    name="Medium Viewport: Larger"
    args={{
      mediumScreen: 'larger'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Medium Viewport: Largest

<Canvas>
  <Story
    name="Medium Viewport: Largest"
    args={{
      mediumScreen: 'largest'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Tiny

<Canvas>
  <Story
    name="Large Viewport: Tiny"
    args={{
      largeScreen: 'tiny'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Smallest

<Canvas>
  <Story
    name="Large Viewport: Smallest"
    args={{
      largeScreen: 'smallest'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Small

<Canvas>
  <Story
    name="Large Viewport: Small"
    args={{
      largeScreen: 'small'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Normal

<Canvas>
  <Story
    name="Large Viewport: Normal"
    args={{
      largeScreen: 'normal'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Large

<Canvas>
  <Story
    name="Large Viewport: Large"
    args={{
      largeScreen: 'large'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Larger

<Canvas>
  <Story
    name="Large Viewport: Larger"
    args={{
      largeScreen: 'larger'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Large Viewport: Largest

<Canvas>
  <Story
    name="Large Viewport: Largest"
    args={{
      largeScreen: 'largest'
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Controls

Experiment with this story with the Controls addon in the Canvas tab.

<Canvas>
  <Story
    name="controls"
    args={Controls.args}
    // https://storybook.js.org/docs/react/api/mdx#play-function
    play={async ({ canvasElement }) => {
      const expectedHeight = sizes.small * 16
      const theElement = canvasElement.querySelector('[aria-hidden="true"]')
      await expect(theElement).not.toBeNull()
      await expect(theElement.clientHeight).toEqual(expectedHeight)
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
